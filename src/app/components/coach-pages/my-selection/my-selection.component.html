<app-navbar></app-navbar>
<section class="py-5 text-center container">
    <div class="row py-lg-5">
      <div class="col-lg-6 col-md-8 mx-auto">
        <h1 class="fw-bold">{{selectionName}}</h1>
        <p class="lead text-muted">{{selectionAgeName}}</p>
        <p class="lead text-muted">Number of coaches: {{numberOfCoaches + 1}}</p>

        <p class="lead text-muted">Number of players: {{numberOfPlayers}}</p>

        <button class="btn btn-dark" (click)="onConfirm()">Confirm changes</button>
      </div>
    </div>
  </section>
  
  <div class="album py-5 bg-light">
    <mat-tab-group mat-align-tabs="center">
      <mat-tab label="Grid view">  
        <div class="container">

          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            <div class="col" *ngFor="let p of modifiedPlayers">
              <div class="card shadow-sm">
                
                <div class="card-body">
                  <p class="card-header fw-bold">{{p.name}} {{p.surname}}</p>
                  <p class="card-text">Birth date: {{p.birthDate | date: 'MM/dd/yyyy'}}</p>
                  <p class="card-text">Height:  {{p.height ==null ? 'Unknown' : p.height}}</p>
                  <p class="card-text">Weight:  {{p.weight ==null ? 'Unknown' : p.weight}}</p>
    
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                      <button type="button" class="btn btn-sm btn-outline-secondary" (click)="openDialog(p)">Edit</button>
                      <button type="button" class="btn btn-sm btn-outline-secondary" (click)="onRemove(p)">Remove</button>
                    </div>
                    <small class="text-muted">player</small>
                  </div>
                </div>
              </div>
            </div>
        
           
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Table view"> 
        <div class="container">

        <table mat-table [dataSource]="modifiedPlayers" class="mat-elevation-z8">

        
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let element">  {{element.name}} </td>
          </ng-container>
        
          <ng-container matColumnDef="surname">
            <th mat-header-cell *matHeaderCellDef> Surname </th>
            <td mat-cell *matCellDef="let element"> {{element.surname}} </td>
          </ng-container>
        
          <ng-container matColumnDef="birth-date">
            <th mat-header-cell *matHeaderCellDef> Birth date </th>
            <td mat-cell *matCellDef="let element"> {{element.birthDate | date: 'dd-MM-yyyy'}}  </td>
          </ng-container>
        
          <ng-container matColumnDef="height">
            <th mat-header-cell *matHeaderCellDef> Height </th>
            <td mat-cell *matCellDef="let element"> {{element.height ==null ? 'Unknown' : element.height}}</td>
          </ng-container>

          <ng-container matColumnDef="weight">
            <th mat-header-cell *matHeaderCellDef> Weight </th>
            <td mat-cell *matCellDef="let element"> {{element.weight ==null ? 'Unknown' : element.weight}}</td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" style="cursor: pointer;"></tr>
        </table>
        </div>
       </mat-tab>
       <mat-tab label="Add players">
        <div class="container">

          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            <div class="col" *ngFor="let p of modifiedPlayersWithoutSelection">
              <div class="card shadow-sm">
                
                <div class="card-body">
                  <p class="card-header fw-bold">{{p.name}} {{p.surname}}</p>
                  <p class="card-text">Birth date: {{p.birthDate | date: 'MM/dd/yyyy'}}</p>
                  <p class="card-text">Height:  {{p.height ==null ? 'Unknown' : p.height}}</p>
                  <p class="card-text">Weight:  {{p.weight ==null ? 'Unknown' : p.weight}}</p>
    
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                      <button type="button" class="btn btn-m btn-outline-secondary" (click)="onAdd(p)">Add</button>
                    </div>
                    <small class="text-muted">unselected</small>
                  </div>
                </div>
              </div>
            </div>
        
           
          </div>
        </div>
       </mat-tab>
    </mat-tab-group>
    
  </div>
